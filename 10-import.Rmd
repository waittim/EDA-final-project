---
title: "10-import"
output: html_notebook
---
## Load packages
```{r eval=FALSE}
library(tidyverse)
library(janitor)
library(assertr)
library(stringr)
library(lubridate)
```


## Import data

```{r warning=FALSE}
H1B18<-read_csv(unzip("data/h1b18.csv.zip")) %>% 
  clean_names()
file.remove("h1b18.csv")
```



## data cleaning

**Todo list:**

Filter H1B visa_class
```{r}
H1B18 <- H1B18 %>% 
  filter(visa_class=="H-1B")
```

Remove all of missing value 
```{r}
H1B18 <- na.omit(H1B18)
```

Uppercase -> lowercase 
```{r}
H1B18 <- H1B18 %>% 
  mutate(case_status=tolower(case_status)) %>% 
  mutate(employer_name=tolower(employer_name)) %>% 
  mutate(employer_city=tolower(employer_city)) %>% 
  mutate(employer_state=tolower(employer_state)) %>% 
  mutate(job_title=tolower(job_title)) %>% 
  mutate(soc_name=tolower(soc_name))
```

Lubridate all of the date
```{r}
H1B18_test <- H1B18 %>% 
  mutate(case_submitted = mdy(case_submitted)) %>% 
  mutate(decision_date = mdy(decision_date)) %>% 
  mutate(employment_start_date = mdy(employment_start_date)) %>% 
  mutate(employment_end_date = mdy(employment_end_date)) 
```




```{r}
str(H1B18)
head(H1B18)
```

## save data
